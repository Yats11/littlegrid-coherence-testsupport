<?xml version='1.0' encoding='UTF-8'?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>
    <groupId>org.jhall</groupId>
    <artifactId>local-process-coherence-testsupport</artifactId>
    <packaging>jar</packaging>
    <version>1.12</version>

    <name>${project.artifactId}</name>

    <parent>
        <groupId>org.jhall.rainbow</groupId>
        <artifactId>rainbow-parent</artifactId>
        <version>1.0.6</version>
        <relativePath />
    </parent>

    <scm>
        <connection>scm:svn:http://192.168.1.151/svn/incubator/rainbow/tumbleweed/tags/local-process-coherence-testsupport-1.12</connection>
        <developerConnection>scm:svn:http://192.168.1.151/svn/incubator/rainbow/tumbleweed/tags/local-process-coherence-testsupport-1.12</developerConnection>
        <url>http://192.168.1.151/svn/incubator/rainbow/tumbleweed/tags/local-process-coherence-testsupport-1.12</url>
    </scm>

    <dependencies>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
        </dependency>

        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
        </dependency>

        <dependency>
            <groupId>oracle</groupId>
            <artifactId>coherence</artifactId>
            <scope>provided</scope>
        </dependency>
    </dependencies>

    <profiles>
        <profile>
            <id>default</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <configuration>
                            <!--
                                Due to the classes being loaded into different class loaders and coupled with
                                the fact that these tests are all about testing that behaviour, the forking and
                                below argLine settings are used to avoid the perm-space from becoming full.
                            -->
                            <forkMode>always</forkMode>
                            <argLine>-Xmx768m -Xms768m -XX:MaxPermSize=512m</argLine>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>

        <profile>
            <id>customArgLineToBeUsed</id>
            <activation>
                <property>
                    <name>argLine</name>
                </property>
            </activation>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-surefire-plugin</artifactId>
                        <configuration>
                            <forkMode>always</forkMode>
                            <!--
                                If using this custom argLine profile (typically to support command-line override),
                                then in additional to your own user specified settings you should also include
                                those from the default profile as sensible memory defaults.
                            -->
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>
</project>

